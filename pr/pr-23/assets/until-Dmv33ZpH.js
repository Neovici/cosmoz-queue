import{E as C,n as a}from"./iframe-0U8S8_7f.js";import{e as m,f as w}from"./async-directive-cKI5krpX.js";class l{constructor(t){this.G=t}disconnect(){this.G=void 0}reconnect(t){this.G=t}deref(){return this.G}}class p{constructor(){this.Y=void 0,this.Z=void 0}get(){return this.Y}pause(){this.Y??=new Promise(t=>this.Z=t)}resume(){this.Z?.(),this.Y=this.Z=void 0}}const $=e=>!a(e)&&typeof e.then=="function",_=1073741823;class g extends w{constructor(){super(...arguments),this._$Cwt=_,this._$Cbt=[],this._$CK=new l(this),this._$CX=new p}render(...t){return t.find(i=>!$(i))??C}update(t,i){const h=this._$Cbt;let c=h.length;this._$Cbt=i;const u=this._$CK,d=this._$CX;this.isConnected||this.disconnected();for(let s=0;s<i.length&&!(s>this._$Cwt);s++){const n=i[s];if(!$(n))return this._$Cwt=s,n;s<c&&n===h[s]||(this._$Cwt=_,c=0,Promise.resolve(n).then(async f=>{for(;d.get();)await d.get();const o=u.deref();if(o!==void 0){const r=o._$Cbt.indexOf(n);r>-1&&r<o._$Cwt&&(o._$Cwt=r,o.setValue(f))}}))}return C}disconnected(){this._$CK.disconnect(),this._$CX.pause()}reconnected(){this._$CK.reconnect(this),this._$CX.resume()}}const G=m(g);export{G as m};
